datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum SocialType {
  local
  kakao
}

model UserModel {
  userId String @id @default(uuid())

  realname String
  phone    String
  email    String?
  birthday DateTime
  license LicenseModel?

  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?
}

model SocialModel {
  socialId String @id @default(uuid())
  description String

  type SocialType
  identity String

  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?
}

model SessionModel {
  sessionId String @id @default(uuid())

  platform String
  messagingToken String?
  
  usedAt DateTime @default(now())
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?
}

model LicenseModel {
  licenseId String @id @default(uuid())

  userId String
  user   UserModel @relation(fields: [userId], references: [userId])

  isManual Boolean @default(false)
  url String?
  realname String?
  birthday DateTime?
  identity String?
  license String?
  phone String?

  approvedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?
}